# Vue Flow 流程图编辑器使用指南

## 快速开始

### 1. 访问页面

打开浏览器访问流程图编辑器页面。

### 2. 界面布局

```
┌─────────────────────────────────────────────────────────┐
│  [控制按钮]                                    [属性面板]│
│                                                          │
│                                                          │
│                    画布区域                              │
│                                                          │
│                                                          │
│                                                          │
│                                                          │
└─────────────────────────────────────────────────────────┘
│                  [节点面板]                              │
└─────────────────────────────────────────────────────────┘
```

## 主要功能

### 一、节点操作

#### 1.1 添加节点

**方法一：从节点面板拖拽**

1. 点击底部节点面板（如果已收起）
2. 选择需要的节点类型
3. 按住鼠标左键拖拽到画布
4. 释放鼠标完成添加

**节点类型说明：**

- 🟢 **开始节点**：流程的起点，圆角矩形，绿色
- 🔴 **结束节点**：流程的终点，圆角矩形，红色
- 🔵 **流程节点**：普通处理步骤，矩形，蓝色
- 🟠 **判断节点**：条件分支，菱形，橙色
- ⚪ **并行节点**：并行处理，矩形，灰色
- ⬡ **自定义节点**：自定义功能，可自定义样式

#### 1.2 选择节点

- 单击节点即可选中
- 选中后节点会显示蓝色边框
- 右侧属性面板会显示节点详情

#### 1.3 移动节点

- 选中节点后按住拖动
- 或在属性面板中精确设置 X、Y 坐标

#### 1.4 编辑节点

选中节点后，在右侧属性面板可以：

- 修改节点名称
- 添加/修改节点描述
- 更改节点颜色
- 设置加载状态
- 调整位置坐标
- 设置是否可连接

#### 1.5 删除节点

**方法一：属性面板删除**

1. 选中要删除的节点
2. 点击属性面板顶部的删除按钮（红色圆形按钮）

**方法二：拖拽到节点面板删除**

1. 选中要删除的节点
2. 拖拽到底部节点面板
3. 看到红色删除提示后释放鼠标

### 二、连接操作

#### 2.1 创建连接

1. 将鼠标移到节点的连接点（小圆点）
2. 按住鼠标左键拖动
3. 拖动到目标节点的连接点
4. 释放鼠标完成连接

**连接点位置：**

- 开始节点：底部（输出）
- 结束节点：顶部（输入）
- 流程节点：上下左右四个方向
- 判断节点：顶部输入，左右下三个输出
- 并行节点：顶部输入，底部两个输出

#### 2.2 连接样式

- 自动显示箭头指向
- 平滑曲线动画效果
- 可添加连接标签

#### 2.3 删除连接

1. 点击要删除的连接线
2. 按 Delete 键或 Backspace 键

### 三、视图控制

#### 3.1 控制按钮（左上角）

- 🔄 **重置视图**：恢复到默认视图
- 🖼️ **适应画布**：自动调整缩放以显示所有节点
- 🌙 **暗黑模式**：切换明暗主题
- 📋 **导出数据**：将流程数据输出到控制台
- 🗑️ **清空画布**：删除所有节点和连接

#### 3.2 缩放和平移

- **缩放**：鼠标滚轮上下滚动
- **平移**：按住鼠标右键拖动，或按住空格键+鼠标左键拖动
- **缩放范围**：20% - 400%

#### 3.3 小地图

- 位于右下角
- 显示整个画布的缩略图
- 可点击快速定位
- 可拖动视口框平移

### 四、面板操作

#### 4.1 节点面板（底部）

**展开/收起：**

- 点击面板顶部的切换按钮
- 展开时显示所有可用节点类型
- 收起时只显示一个小条

**功能：**

- 展示所有节点类型
- 拖拽添加节点
- 拖拽删除节点

#### 4.2 属性面板（右侧）

**展开/收起：**

- 点击面板左侧的切换按钮
- 展开时显示节点属性
- 收起时只显示一个小条

**功能：**

- 查看节点详情
- 编辑节点属性
- 删除节点

## 使用场景

### 场景一：创建简单流程

1. 添加一个"开始"节点
2. 添加若干"流程"节点
3. 添加一个"结束"节点
4. 依次连接各节点
5. 编辑每个节点的名称和描述

### 场景二：创建条件分支流程

1. 添加"开始"节点
2. 添加"流程"节点
3. 添加"判断"节点
4. 根据判断结果添加不同的"流程"节点
5. 最后汇总到"结束"节点

### 场景三：创建并行处理流程

1. 添加"开始"节点
2. 添加"并行"节点
3. 从并行节点的两个输出分别连接不同的处理流程
4. 最后汇总到"结束"节点

## 快捷键

| 快捷键             | 功能                 |
| ------------------ | -------------------- |
| Delete / Backspace | 删除选中的节点或连接 |
| Ctrl + 滚轮        | 缩放画布             |
| 空格 + 拖动        | 平移画布             |
| Ctrl + Z           | 撤销（计划中）       |
| Ctrl + Y           | 重做（计划中）       |

## 数据导出

### 导出流程数据

1. 点击左上角的"导出数据"按钮
2. 打开浏览器控制台（F12）
3. 在控制台中查看输出的 JSON 数据

### 数据格式

```json
{
  "nodes": [
    {
      "id": "start-xxx",
      "type": "start",
      "data": {
        "label": "开始",
        "color": "#67C23A"
      },
      "position": { "x": 250, "y": 50 }
    }
  ],
  "edges": [
    {
      "id": "e1-2",
      "source": "1",
      "target": "2",
      "label": "连接"
    }
  ]
}
```

## 最佳实践

### 1. 流程设计建议

- ✅ 每个流程只有一个开始节点
- ✅ 每个流程至少有一个结束节点
- ✅ 避免创建循环连接（除非必要）
- ✅ 使用有意义的节点名称
- ✅ 为关键节点添加描述说明

### 2. 布局建议

- ✅ 保持流程从上到下或从左到右
- ✅ 相关节点放在一起
- ✅ 避免连接线交叉
- ✅ 使用适当的间距

### 3. 性能建议

- ✅ 单个流程建议不超过 50 个节点
- ✅ 定期保存流程数据
- ✅ 复杂流程考虑分层设计

## 常见问题

### Q1: 如何删除连接？

A: 点击连接线选中后，按 Delete 或 Backspace 键。

### Q2: 节点无法连接？

A: 检查节点的"可连接"属性是否开启，在属性面板中可以设置。

### Q3: 如何保存流程？

A: 点击"导出数据"按钮，复制控制台中的 JSON 数据保存到文件。

### Q4: 如何导入已保存的流程？

A: 目前需要在代码中设置初始数据，后续版本会添加导入功能。

### Q5: 画布太小怎么办？

A: 画布会自动适应浏览器窗口大小，可以最大化浏览器窗口。

### Q6: 如何修改节点颜色？

A: 选中节点后，在右侧属性面板中点击颜色选择器修改。

### Q7: 暗黑模式下看不清？

A: 可以点击左上角的月亮图标切换回亮色模式。

## 技术支持

如有问题或建议，请联系开发团队。

---

**版本**: 1.0.0  
**最后更新**: 2025-10-30
